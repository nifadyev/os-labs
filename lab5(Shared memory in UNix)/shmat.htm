<html><head>

<meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><title>Shmat</title></head><body topmargin="30" leftmargin="30" bgcolor="#ffffff" link="#0000ff" vlink="#800080">

<h1 align="center"><font face="Times New Roman">Системный вызов</font> shmat</h1>
<b><font face="Times New Roman" size="5"><p>Прототип системного вызова</p></font>
</b>
<dir><font color="#008000"> 
  <blockquote><b>#include &lt;sys/types.h&gt;<br>
    #include &lt;sys/ipc.h&gt;<br>
    #include &lt;sys/shm.h&gt;<br>
    <br>
    char *shmat(int shmid, char *shmaddr, int shmflg); </b></blockquote>
  </font></dir>

<b><font face="Times New Roman" size="5"><p>Описание системного вызова</p></font></b>
<dir><font face="Times New Roman" size="5"><b> </b></font> 
  <blockquote> 
    <p align="justify"><font face="Times New Roman">Системный вызов <b><font color="#008000">shmat 
      </font></b>предназначен для включения области разделяемой памяти в адресное 
      пространство текущего процесса. Данное описание не является полным описанием 
      системного вызова, а ограничивается рамками текущего курса. Для полного 
      описания обращайтесь к UNIX man.</font> 
  </p></blockquote>
  <blockquote> 
    <p align="justify"><font face="Times New Roman">Параметр <b><font color="#008000">shmid 
      </font></b> является дескриптором System V IPC для сегмента разделяемой 
      памяти, т.е. значением, которое вернул системный вызов <b><a href="http://cs.mipt.ru/docs/courses/osstud/man/shmget.htm">shmget()</a></b> 
      при создании сегмента или при его поиске по ключу.<br>
      В качестве параметра <b><font color="#008000">shmaddr</font></b> в рамках 
      нашего</font><font face="Times New Roman"> курса мы всегда будем передавать 
      значение <b><font color="#008000">NULL</font></b>, позволяя операционной 
      системе самой разместить разделяемую память в адресном пространстве нашего 
      процесса.<br>
      Параметр<b><font color="#008000"> shmflg</font></b> в нашем курсе может 
      принимать только два значения: <b><font color="#008000">0 </font></b>- для 
      осуществления операций чтения и записи над сегментом и <b><font color="#008000">SHM_RDONLY</font></b> 
      - если мы хотим только читать из него. При этом процесс должен иметь соответствующие 
      права доступа к сегменту.</font> 
  </p></blockquote>
  <b><font face="Times New Roman" size="5"> 
  <p>Возвращаемое значение</p>
  </font> </b> 
  <blockquote> 
    <p align="justify"> <font face="Times New Roman"> Системный вызов возвращает 
      адрес сегмента разделяемой памяти в адресном пространстве процесса при нормальном 
      завершении и значение <b><font color="#008000">-1 </font></b> при возникновении 
      ошибки</font>. 
  </p></blockquote>
</dir>
</body></html>