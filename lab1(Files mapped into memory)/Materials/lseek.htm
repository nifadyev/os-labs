<html><head>

<meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><title>lseek</title></head><body topmargin="30" leftmargin="30" bgcolor="#ffffff" link="#0000ff" vlink="#800080">

<h1 align="center"><font face="Times New Roman">—истемный вызов lseek</font></h1>
<b><font face="Times New Roman" size="5"><p>ѕрототип системного вызова</p></font><dir><font face="Times New Roman" size="5">

</font><font color="#008000"><blockquote>#include  &lt;sys/types.h&gt;<br>
#include &lt;unistd.h&gt;</blockquote>
<blockquote>off_t lseek(int fd,  off_t offset, int whence);</blockquote></font></dir>

<font face="Times New Roman" size="5"><p>ќписание системного вызова</p></font></b>
<dir><font face="Times New Roman" size="5"><b> </b></font> 
  <blockquote><p align="justify"><font face="Times New Roman">—истемный вызов</font> <b><font color="#008000">lseek</font></b> 
    <font face="Times New Roman">предназначен дл€ изменени€ положени€ указател€ текущей позиции в открытом
	 регул€рном 
    файле. </font> </p></blockquote>
  <blockquote><p align="justify"><font face="Times New Roman">ѕараметр </font><b><font color="#008000">fd</font></b><font face="Times New Roman"> 
    €вл€етс€ дескриптором соответствующего файла, т.&nbsp;е. значением, которое 
    вернул системный вызов <a href="http://cs.mipt.ru/docs/courses/osstud/man/open.htm">open()</a>.<br>
    ѕараметр <b><font color="#008000"> offset</font></b> совместно с параметром 
	 <b><font color="#008000"> whence</font></b> определ€ют новое положение указател€ текущей позиции
	 следующим образом:</font></p></blockquote>
	 
  <blockquote> 
    <ul type="square">
      <li> 
        <p align="justify"><font face="Times New Roman"> ≈сли значение параметра 
          <b> <font color="#008000">whence</font></b> равно <b><font color="#008000">SEEK_SET</font></b>, 
          то новое значение указател€ будет составл€ть <b><font color="#008000">offset</font></b> 
          байт от начала файла. ≈стественно, что значение <b><font color="#008000">offset</font></b> 
          в этом случае должно быть не отрицательным. </font> 
      
      </p></li><li> 
        <p align="justify"><font face="Times New Roman"> ≈сли значение параметра 
          <b> <font color="#008000">whence</font></b> равно <b><font color="#008000">SEEK_CUR</font></b>, 
          то новое значение указател€ будет составл€ть старое значение указател€ 
          <b> <font color="#008000">+&nbsp;offset</font></b> байт. ѕри этом новое 
          значение указател€ не должно стать отрицательным. </font> 
      
      </p></li><li> 
        <p align="justify"><font face="Times New Roman"> </font>
      
      <font face="Times New Roman">≈сли значение параметра <b> <font color="#008000">whence</font></b> 
      равно <b><font color="#008000">SEEK_END</font></b>, то новое значение указател€ 
      будет составл€ть длина файла<b> <font color="#008000">+&nbsp;offset</font></b> 
      байт. ѕри этом новое значение указател€ не должно стать отрицательным.</font><br>
      <br>
    </p></li></ul>
  </blockquote>
	 
  <blockquote>
    <p align="justify"><font face="Times New Roman"> —истемный вызов<b><font color="#008000"> 
      lseek </font></b>позвол€ет выставить текущее значение указател€ за конец 
      файла (т.е. сделать его большим размера файла). ѕри любой последующей операции 
      записи в этом положении указател€ файл будет выгл€деть так, как будто возникший 
      промежуток был заполнен нулевыми битами. <br>
      <br>
      “ип данных <b><font color="#008000">off_t </font></b>обычно €вл€етс€ синонимом 
      типа <b><font color="#008000">long int</font></b>.<br><br> —истемный вызов возвращает 
      новое положение указател€ текущей позиции в байтах от начала файла при нормальном 
      завершении и значение -1 при возникновении ошибки</font>.
  </p></blockquote>
</dir>
</body></html>